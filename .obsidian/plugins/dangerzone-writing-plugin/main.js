'use strict';

var obsidian = require('obsidian');

/******************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/* global Reflect, Promise */

var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
    return extendStatics(d, b);
};

function __extends(d, b) {
    if (typeof b !== "function" && b !== null)
        throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
    extendStatics(d, b);
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

function __generator(thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
}

var DangerzoneWritingPluginSettings = /** @class */ (function () {
    function DangerzoneWritingPluginSettings() {
        this.countdownSeconds = "60";
        this.secondsUntilDeletion = "5";
        this.succesfullSessionCount = "0";
        this.customEditorFontSize = "";
        this.customEditorBackgroundColor = "";
    }
    DangerzoneWritingPluginSettings.prototype.getCountdownSecondsInteger = function () {
        return parseInt(this.countdownSeconds);
    };
    DangerzoneWritingPluginSettings.prototype.getSecondsUntilDeletionInteger = function () {
        return parseInt(this.secondsUntilDeletion);
    };
    DangerzoneWritingPluginSettings.prototype.getSuccesfullSessionCountInteger = function () {
        return parseInt(this.succesfullSessionCount);
    };
    DangerzoneWritingPluginSettings.prototype.getCustomEditorFontSizeCssString = function () {
        if (this.customEditorFontSize != "") {
            return "font-size: ".concat(this.customEditorFontSize, "pt");
        }
        else {
            return "";
        }
    };
    DangerzoneWritingPluginSettings.prototype.getCustomEditorBackgroundColorCssString = function () {
        if (this.customEditorBackgroundColor != "") {
            return "background-color: ".concat(this.customEditorBackgroundColor);
        }
        else {
            return "";
        }
    };
    return DangerzoneWritingPluginSettings;
}());

var ExtractHighlightsPluginSettingsTab = /** @class */ (function (_super) {
    __extends(ExtractHighlightsPluginSettingsTab, _super);
    function ExtractHighlightsPluginSettingsTab(app, plugin) {
        var _this = _super.call(this, app, plugin) || this;
        _this.plugin = plugin;
        return _this;
    }
    ExtractHighlightsPluginSettingsTab.prototype.display = function () {
        var _this = this;
        var containerEl = this.containerEl;
        containerEl.empty();
        containerEl.createEl("h2", { text: "Dangerzone Writing Plugin" });
        containerEl.createEl("h3", { text: "Your Writing Stats" });
        containerEl.createEl("p", { text: "Successfully completed sessions: " + this.plugin.settings.succesfullSessionCount });
        containerEl.createEl("h3", { text: "Writing Session Timing Settings" });
        new obsidian.Setting(containerEl)
            .setName("Countdown Seconds")
            .setDesc("How many seconds you want your Dangerzone Writing session to last")
            .addText(function (text) {
            return text
                .setPlaceholder("100")
                .setValue(_this.plugin.settings.countdownSeconds)
                .onChange(function (value) {
                _this.plugin.settings.countdownSeconds = value;
                _this.plugin.saveData(_this.plugin.settings);
            });
        });
        new obsidian.Setting(containerEl)
            .setName("Dangerzone Seconds")
            .setDesc("How many seconds until your text is deleted")
            .addText(function (text) {
            return text
                .setPlaceholder("5")
                .setValue(_this.plugin.settings.secondsUntilDeletion)
                .onChange(function (value) {
                _this.plugin.settings.secondsUntilDeletion = value;
                _this.plugin.saveData(_this.plugin.settings);
            });
        });
        containerEl.createEl("h3", { text: "Immersive Writing Settings" });
        new obsidian.Setting(containerEl)
            .setName("Session Font-Size")
            .setDesc("Increases editor font-size temporarily for a more immersive experience. Leave empty to keep default size")
            .addText(function (text) {
            return text
                .setPlaceholder("32")
                .setValue(_this.plugin.settings.customEditorFontSize)
                .onChange(function (value) {
                _this.plugin.settings.customEditorFontSize = value;
                _this.plugin.saveData(_this.plugin.settings);
            });
        });
        new obsidian.Setting(containerEl)
            .setName("Session Background Color")
            .setDesc("Changes background color of editor temporarily for a more immersive experience. Leave empty to omit")
            .addText(function (text) {
            return text
                .setPlaceholder("black, maroon, #CCC")
                .setValue(_this.plugin.settings.customEditorBackgroundColor)
                .onChange(function (value) {
                _this.plugin.settings.customEditorBackgroundColor = value;
                _this.plugin.saveData(_this.plugin.settings);
            });
        });
        containerEl.createEl("hr");
        containerEl.createEl("h3", { text: "Thank You" });
        containerEl.createEl("p", { text: "Thank you ryanjamurphy, roberthaisfield, macedotavares, afokapu, tristanbailey, lukeleppan, AutonomyGaps and hicsuntdragons for your feedback and support." });
        containerEl.createEl("a", {
            text: "Visit the forum for feedback",
            href: "https://forum.obsidian.md/t/dangerzone-flowstate-like-plugin-prototype/8776/"
        });
        containerEl.createEl("h3", { text: "Disclaimer" });
        containerEl.createEl("i", { text: "This plugin is provided as-is with NO warranty that it'll work exactly as you expect. It's made to DELETE text in a note after X seconds of inactivity when you're start a session. Please do not hold me responsible if it does, in fact, DELETE your text. That's what it does. On the other hand there is always the possibility of a bug that makes this plugin behave unexpectedly." });
    };
    return ExtractHighlightsPluginSettingsTab;
}(obsidian.PluginSettingTab));

var CountdownTimer = /** @class */ (function () {
    function CountdownTimer(counter, statusBar, activeLeaf, secondsUntilDeletion, plugin) {
        var _this = this;
        this.counter = counter;
        this.handleKeyDown = function () {
            if (!_this.isFinished()) {
                _this.resetSecondUntilDeletion();
            }
        };
        this.plugin = plugin;
        this.editor = activeLeaf.view.editor;
        this.secondsUntilDeletion = secondsUntilDeletion;
        this.secondsRemaining = secondsUntilDeletion;
        this.activeLeaf = activeLeaf;
        this.counter = counter;
        this.originalCountdownSeconds = counter;
        var wrapper = activeLeaf.view.containerEl;
        var keyDownCb = this.handleKeyDown.bind(this);
        wrapper.addEventListener("keydown", keyDownCb);
        wrapper.setAttribute("id", "active-dangerzone-editor");
        this.intervalId = setInterval(function () {
            _this.counter = _this.counter - 1;
            _this.secondsRemaining = _this.secondsRemaining - 1;
            if (_this.secondsRemaining < _this.secondsUntilDeletion && _this.editor.getValue().length > 0) {
                if (_this.secondsRemaining <= 5) {
                    var opacity = _this.getOpacityForSecondsRemaining(_this.secondsRemaining, _this.secondsUntilDeletion);
                    wrapper.setAttribute("style", "opacity:" + opacity + "%");
                }
                statusBar.setText("".concat(_this.secondsRemaining));
                statusBar.setAttr('style', 'color: red;');
            }
            else {
                wrapper.setAttribute("style", "opacity: 100%");
                statusBar.setText("".concat(_this.counter, " seconds left"));
                statusBar.setAttr('style', 'color: #999;');
            }
            if (_this.secondsRemaining <= 0) {
                _this.editor.setValue('');
                _this.secondsRemaining = _this.secondsUntilDeletion + 1;
            }
            if (_this.counter === 0) {
                statusBar.setText("");
                new obsidian.Notice("Dangerzone session finished!");
                wrapper.setAttribute("style", "opacity: 100%");
                _this.plugin.removeStyle();
                // Save progress if there's something written
                if (_this.editor.getValue().length > 0) {
                    var currentSettings = _this.plugin.settings;
                    currentSettings.succesfullSessionCount = (currentSettings.getSuccesfullSessionCountInteger() + 1).toString();
                    _this.plugin.saveData(currentSettings);
                }
                clearInterval(_this.intervalId);
                wrapper.removeEventListener("keydown", keyDownCb);
            }
        }, 1000);
    }
    CountdownTimer.prototype.getOpacityForSecondsRemaining = function (secondsRemaining, secondsUntilDeletion) {
        // 3 / 5
        return secondsRemaining / secondsUntilDeletion * 100;
    };
    CountdownTimer.prototype.resetCountdown = function () {
        this.counter = this.originalCountdownSeconds;
    };
    CountdownTimer.prototype.resetSecondUntilDeletion = function () {
        // important: add +1 to this.secondsUntilDeletion to account for at least one key-stroke
        this.secondsRemaining = this.secondsUntilDeletion + 1;
    };
    CountdownTimer.prototype.isFinished = function () {
        return this.counter <= 0;
    };
    return CountdownTimer;
}());

var svgPath = '<path d="M49.5122 90C29.3926 89.7355 13.1468 73.5337 12.8816 53.4685C13.1468 33.4032 29.3926 17.2014 49.5122 16.9369C69.6319 17.2014 85.8776 33.4032 86.1428 53.4685C85.8776 73.5337 69.6319 89.7355 49.5122 90ZM49.5122 25.0551C33.8635 25.2605 21.2278 37.8621 21.0217 53.4685C21.2278 69.0749 33.8635 81.6764 49.5122 81.8819C65.1609 81.6764 77.7967 69.0749 78.0027 53.4685C77.7967 37.8621 65.1609 25.2605 49.5122 25.0551ZM53.5823 73.7638H45.4421V57.5275H29.1619V49.4094H45.4421V33.1732H53.5823V49.4094H69.8625V57.5275H53.5823V73.7638ZM83.2612 27.9289L71.0144 15.7517L76.7491 10L89 22.1772L83.2612 27.9248V27.9289ZM15.7673 27.9289L10 22.1772L22.1736 10L27.9327 15.7476L15.7673 27.9248V27.9289Z" fill="#646464"/>';
obsidian.addIcon('watch', svgPath);
var DangerzoneWritingPlugin = /** @class */ (function (_super) {
    __extends(DangerzoneWritingPlugin, _super);
    function DangerzoneWritingPlugin() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DangerzoneWritingPlugin.prototype.onload = function () {
        var _this = this;
        this.loadSettings();
        this.addSettingTab(new ExtractHighlightsPluginSettingsTab(this.app, this));
        this.statusBar = this.addStatusBarItem();
        this.addRibbonIcon('watch', 'Dangerzone Writing', function () {
            _this.startOrContinueTimer();
        });
        this.addCommand({
            id: "dangerzone-session-start",
            name: "Shortcut for starting a Dangerzone Writing session",
            callback: function () { return _this.startOrContinueTimer(); },
            hotkeys: [
                {
                    modifiers: ["Alt", "Shift"],
                    key: "⁄",
                },
            ],
        });
    };
    DangerzoneWritingPlugin.prototype.startOrContinueTimer = function () {
        this.setCustomStyle();
        if (this.countdown && !this.countdown.isFinished()) {
            this.countdown.resetCountdown();
        }
        else {
            this.startTimer();
        }
    };
    DangerzoneWritingPlugin.prototype.onunload = function () {
        this.removeStyle();
        clearInterval(this.countdown.intervalId);
    };
    DangerzoneWritingPlugin.prototype.loadSettings = function () {
        var _this = this;
        this.settings = new DangerzoneWritingPluginSettings();
        (function () { return __awaiter(_this, void 0, void 0, function () {
            var loadedSettings;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadData()];
                    case 1:
                        loadedSettings = _a.sent();
                        if (loadedSettings) {
                            console.log("Found existing settings file for Dangerzone Writing");
                            this.settings.countdownSeconds = loadedSettings.countdownSeconds;
                            this.settings.secondsUntilDeletion = loadedSettings.secondsUntilDeletion;
                            this.settings.succesfullSessionCount = loadedSettings.succesfullSessionCount;
                            this.settings.customEditorFontSize = loadedSettings.customEditorFontSize;
                            this.settings.customEditorBackgroundColor = loadedSettings.customEditorBackgroundColor;
                        }
                        else {
                            console.log("No settings file found, creating for Dangerzone Writing");
                            this.saveData(this.settings);
                        }
                        return [2 /*return*/];
                }
            });
        }); })();
    };
    DangerzoneWritingPlugin.prototype.startTimer = function () {
        var activeLeaf = this.app.workspace.getLeaf();
        var mdView = activeLeaf.view;
        if (mdView && mdView.getViewType() === "markdown" && mdView.getMode && mdView.getMode() === "source") {
            if (mdView.editor) {
                this.countdown = new CountdownTimer(this.settings.getCountdownSecondsInteger(), this.statusBar, activeLeaf, this.settings.getSecondsUntilDeletionInteger(), this);
                new obsidian.Notice("Dangerzone Writing session started!");
            }
            else {
                new obsidian.Notice("No editor active");
            }
        }
        else {
            new obsidian.Notice("No file open.");
        }
    };
    DangerzoneWritingPlugin.prototype.setCustomStyle = function () {
        var css = document.createElement('style');
        css.id = 'dangerzone-writing-style';
        var customEditorFontSizeCssString = this.settings.getCustomEditorFontSizeCssString();
        var customEditorBackgroundColor = this.settings.getCustomEditorBackgroundColorCssString();
        css.innerText = "\n            #active-dangerzone-editor { \n                ".concat(customEditorFontSizeCssString, ";\n                ").concat(customEditorBackgroundColor, ";             \n            }");
        document.getElementsByTagName("head")[0].appendChild(css);
        this.updateStyle();
    };
    DangerzoneWritingPlugin.prototype.updateStyle = function () {
        this.app.workspace.trigger('css-change');
    };
    DangerzoneWritingPlugin.prototype.removeStyle = function () {
        document.getElementById('dangerzone-writing-style').remove();
        this.app.workspace.trigger('css-change');
    };
    return DangerzoneWritingPlugin;
}(obsidian.Plugin));

module.exports = DangerzoneWritingPlugin;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsibm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsInNyYy9EYW5nZXJ6b25lV3JpdGluZ1BsdWdpblNldHRpbmdzLnRzIiwic3JjL0RhbmdlcnpvbmVXcml0aW5nUGx1Z2luU2V0dGluZ3NUYWIudHMiLCJzcmMvQ291bnRkb3duVGltZXIudHMiLCJzcmMvbWFpbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcclxuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XHJcbiAgICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XHJcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59KTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgbykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBwKSkgX19jcmVhdGVCaW5kaW5nKG8sIG0sIHApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG4vKiogQGRlcHJlY2F0ZWQgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG4vKiogQGRlcHJlY2F0ZWQgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5KHRvLCBmcm9tLCBwYWNrKSB7XHJcbiAgICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcclxuICAgICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcclxuICAgICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XHJcbn0pIDogZnVuY3Rpb24obywgdikge1xyXG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XHJcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XHJcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XHJcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4oc3RhdGUsIHJlY2VpdmVyKSB7XHJcbiAgICBpZiAocmVjZWl2ZXIgPT09IG51bGwgfHwgKHR5cGVvZiByZWNlaXZlciAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcmVjZWl2ZXIgIT09IFwiZnVuY3Rpb25cIikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgdXNlICdpbicgb3BlcmF0b3Igb24gbm9uLW9iamVjdFwiKTtcclxuICAgIHJldHVybiB0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyID09PSBzdGF0ZSA6IHN0YXRlLmhhcyhyZWNlaXZlcik7XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGFuZ2Vyem9uZVdyaXRpbmdQbHVnaW5TZXR0aW5ncyB7XG4gICAgcHVibGljIGNvdW50ZG93blNlY29uZHM6IHN0cmluZztcbiAgICBwdWJsaWMgc2Vjb25kc1VudGlsRGVsZXRpb246IHN0cmluZztcbiAgICBwdWJsaWMgc3VjY2VzZnVsbFNlc3Npb25Db3VudDogc3RyaW5nO1xuICAgIHB1YmxpYyBjdXN0b21FZGl0b3JGb250U2l6ZTogc3RyaW5nO1xuICAgIHB1YmxpYyBjdXN0b21FZGl0b3JCYWNrZ3JvdW5kQ29sb3I6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNvdW50ZG93blNlY29uZHMgPSBcIjYwXCI7XG4gICAgICAgIHRoaXMuc2Vjb25kc1VudGlsRGVsZXRpb24gPSBcIjVcIjtcbiAgICAgICAgdGhpcy5zdWNjZXNmdWxsU2Vzc2lvbkNvdW50ID0gXCIwXCI7XG4gICAgICAgIHRoaXMuY3VzdG9tRWRpdG9yRm9udFNpemUgPSBcIlwiO1xuICAgICAgICB0aGlzLmN1c3RvbUVkaXRvckJhY2tncm91bmRDb2xvciA9IFwiXCI7XG4gICAgfVxuXG4gICAgZ2V0Q291bnRkb3duU2Vjb25kc0ludGVnZXIoKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLmNvdW50ZG93blNlY29uZHMpO1xuICAgIH1cblxuICAgIGdldFNlY29uZHNVbnRpbERlbGV0aW9uSW50ZWdlcigpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuc2Vjb25kc1VudGlsRGVsZXRpb24pO1xuICAgIH1cblxuICAgIGdldFN1Y2Nlc2Z1bGxTZXNzaW9uQ291bnRJbnRlZ2VyKCkge1xuICAgICAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5zdWNjZXNmdWxsU2Vzc2lvbkNvdW50KTtcbiAgICB9XG5cbiAgICBnZXRDdXN0b21FZGl0b3JGb250U2l6ZUNzc1N0cmluZygpIHtcbiAgICAgICAgaWYodGhpcy5jdXN0b21FZGl0b3JGb250U2l6ZSAhPSBcIlwiKSB7XG4gICAgICAgICAgICByZXR1cm4gYGZvbnQtc2l6ZTogJHt0aGlzLmN1c3RvbUVkaXRvckZvbnRTaXplfXB0YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0Q3VzdG9tRWRpdG9yQmFja2dyb3VuZENvbG9yQ3NzU3RyaW5nKCkge1xuICAgICAgICBpZih0aGlzLmN1c3RvbUVkaXRvckJhY2tncm91bmRDb2xvciAhPSBcIlwiKSB7XG4gICAgICAgICAgICByZXR1cm4gYGJhY2tncm91bmQtY29sb3I6ICR7dGhpcy5jdXN0b21FZGl0b3JCYWNrZ3JvdW5kQ29sb3J9YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7QXBwLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCBEYW5nZXJ6b25lV3JpdGluZ1BsdWdpbiBmcm9tIFwiLi9tYWluXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV4dHJhY3RIaWdobGlnaHRzUGx1Z2luU2V0dGluZ3NUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHBsdWdpbjogRGFuZ2Vyem9uZVdyaXRpbmdQbHVnaW47XG5cbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBEYW5nZXJ6b25lV3JpdGluZ1BsdWdpbikge1xuICAgICAgICBzdXBlcihhcHAsIHBsdWdpbik7XG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgIH1cblxuICAgIGRpc3BsYXkoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHtjb250YWluZXJFbH0gPSB0aGlzO1xuXG4gICAgICAgIGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cbiAgICAgICAgY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoMlwiLCB7dGV4dDogXCJEYW5nZXJ6b25lIFdyaXRpbmcgUGx1Z2luXCJ9KTtcblxuICAgICAgICBjb250YWluZXJFbC5jcmVhdGVFbChcImgzXCIsIHt0ZXh0OiBcIllvdXIgV3JpdGluZyBTdGF0c1wifSk7XG5cbiAgICAgICAgY29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIsIHt0ZXh0OiBcIlN1Y2Nlc3NmdWxseSBjb21wbGV0ZWQgc2Vzc2lvbnM6IFwiICsgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc3VjY2VzZnVsbFNlc3Npb25Db3VudH0pO1xuXG4gICAgICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDNcIiwge3RleHQ6IFwiV3JpdGluZyBTZXNzaW9uIFRpbWluZyBTZXR0aW5nc1wifSk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZShcIkNvdW50ZG93biBTZWNvbmRzXCIpXG4gICAgICAgICAgICAuc2V0RGVzYyhcIkhvdyBtYW55IHNlY29uZHMgeW91IHdhbnQgeW91ciBEYW5nZXJ6b25lIFdyaXRpbmcgc2Vzc2lvbiB0byBsYXN0XCIpXG4gICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT5cbiAgICAgICAgICAgICAgICB0ZXh0XG4gICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihcIjEwMFwiKVxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY291bnRkb3duU2Vjb25kcylcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuY291bnRkb3duU2Vjb25kcyA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2F2ZURhdGEodGhpcy5wbHVnaW4uc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZShcIkRhbmdlcnpvbmUgU2Vjb25kc1wiKVxuICAgICAgICAgICAgLnNldERlc2MoXCJIb3cgbWFueSBzZWNvbmRzIHVudGlsIHlvdXIgdGV4dCBpcyBkZWxldGVkXCIpXG4gICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT5cbiAgICAgICAgICAgICAgICB0ZXh0XG4gICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihcIjVcIilcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNlY29uZHNVbnRpbERlbGV0aW9uKVxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zZWNvbmRzVW50aWxEZWxldGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2F2ZURhdGEodGhpcy5wbHVnaW4uc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoM1wiLCB7dGV4dDogXCJJbW1lcnNpdmUgV3JpdGluZyBTZXR0aW5nc1wifSk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZShcIlNlc3Npb24gRm9udC1TaXplXCIpXG4gICAgICAgICAgICAuc2V0RGVzYyhcIkluY3JlYXNlcyBlZGl0b3IgZm9udC1zaXplIHRlbXBvcmFyaWx5IGZvciBhIG1vcmUgaW1tZXJzaXZlIGV4cGVyaWVuY2UuIExlYXZlIGVtcHR5IHRvIGtlZXAgZGVmYXVsdCBzaXplXCIpXG4gICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT5cbiAgICAgICAgICAgICAgICB0ZXh0XG4gICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihcIjMyXCIpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdXN0b21FZGl0b3JGb250U2l6ZSlcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tRWRpdG9yRm9udFNpemUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNhdmVEYXRhKHRoaXMucGx1Z2luLnNldHRpbmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldE5hbWUoXCJTZXNzaW9uIEJhY2tncm91bmQgQ29sb3JcIilcbiAgICAgICAgICAgIC5zZXREZXNjKFwiQ2hhbmdlcyBiYWNrZ3JvdW5kIGNvbG9yIG9mIGVkaXRvciB0ZW1wb3JhcmlseSBmb3IgYSBtb3JlIGltbWVyc2l2ZSBleHBlcmllbmNlLiBMZWF2ZSBlbXB0eSB0byBvbWl0XCIpXG4gICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT5cbiAgICAgICAgICAgICAgICB0ZXh0XG4gICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihcImJsYWNrLCBtYXJvb24sICNDQ0NcIilcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmN1c3RvbUVkaXRvckJhY2tncm91bmRDb2xvcilcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tRWRpdG9yQmFja2dyb3VuZENvbG9yID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zYXZlRGF0YSh0aGlzLnBsdWdpbi5zZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICBjb250YWluZXJFbC5jcmVhdGVFbChcImhyXCIpO1xuXG4gICAgICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDNcIiwge3RleHQ6IFwiVGhhbmsgWW91XCJ9KTtcbiAgICAgICAgY29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIsIHt0ZXh0OiBcIlRoYW5rIHlvdSByeWFuamFtdXJwaHksIHJvYmVydGhhaXNmaWVsZCwgbWFjZWRvdGF2YXJlcywgYWZva2FwdSwgdHJpc3RhbmJhaWxleSwgbHVrZWxlcHBhbiwgQXV0b25vbXlHYXBzIGFuZCBoaWNzdW50ZHJhZ29ucyBmb3IgeW91ciBmZWVkYmFjayBhbmQgc3VwcG9ydC5cIn0pO1xuICAgICAgICBjb250YWluZXJFbC5jcmVhdGVFbChcImFcIiwge1xuICAgICAgICAgICAgdGV4dDogXCJWaXNpdCB0aGUgZm9ydW0gZm9yIGZlZWRiYWNrXCIsXG4gICAgICAgICAgICBocmVmOiBcImh0dHBzOi8vZm9ydW0ub2JzaWRpYW4ubWQvdC9kYW5nZXJ6b25lLWZsb3dzdGF0ZS1saWtlLXBsdWdpbi1wcm90b3R5cGUvODc3Ni9cIlxuICAgICAgICB9KVxuXG4gICAgICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDNcIiwge3RleHQ6IFwiRGlzY2xhaW1lclwifSk7XG4gICAgICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaVwiLCB7dGV4dDogXCJUaGlzIHBsdWdpbiBpcyBwcm92aWRlZCBhcy1pcyB3aXRoIE5PIHdhcnJhbnR5IHRoYXQgaXQnbGwgd29yayBleGFjdGx5IGFzIHlvdSBleHBlY3QuIEl0J3MgbWFkZSB0byBERUxFVEUgdGV4dCBpbiBhIG5vdGUgYWZ0ZXIgWCBzZWNvbmRzIG9mIGluYWN0aXZpdHkgd2hlbiB5b3UncmUgc3RhcnQgYSBzZXNzaW9uLiBQbGVhc2UgZG8gbm90IGhvbGQgbWUgcmVzcG9uc2libGUgaWYgaXQgZG9lcywgaW4gZmFjdCwgREVMRVRFIHlvdXIgdGV4dC4gVGhhdCdzIHdoYXQgaXQgZG9lcy4gT24gdGhlIG90aGVyIGhhbmQgdGhlcmUgaXMgYWx3YXlzIHRoZSBwb3NzaWJpbGl0eSBvZiBhIGJ1ZyB0aGF0IG1ha2VzIHRoaXMgcGx1Z2luIGJlaGF2ZSB1bmV4cGVjdGVkbHkuXCJ9KTtcbiAgICB9XG59IiwiaW1wb3J0IHtFZGl0b3IsIE1hcmtkb3duVmlldywgTm90aWNlLCBXb3Jrc3BhY2VMZWFmfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCBEYW5nZXJ6b25lV3JpdGluZ1BsdWdpbiBmcm9tIFwiLi9tYWluXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvdW50ZG93blRpbWVyIHtcbiAgICBwdWJsaWMgaW50ZXJ2YWxJZDogTm9kZUpTLlRpbWVvdXQ7XG4gICAgZWRpdG9yOiBFZGl0b3I7XG4gICAgYWN0aXZlTGVhZjogV29ya3NwYWNlTGVhZjtcbiAgICBzZWNvbmRzVW50aWxEZWxldGlvbjogbnVtYmVyO1xuICAgIHNlY29uZHNSZW1haW5pbmc6IG51bWJlcjtcbiAgICBwbHVnaW46IERhbmdlcnpvbmVXcml0aW5nUGx1Z2luO1xuICAgIG9yaWdpbmFsQ291bnRkb3duU2Vjb25kczogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIGNvdW50ZXI6IG51bWJlciwgc3RhdHVzQmFyOiBIVE1MRWxlbWVudCwgYWN0aXZlTGVhZjogV29ya3NwYWNlTGVhZiwgc2Vjb25kc1VudGlsRGVsZXRpb246IG51bWJlciwgcGx1Z2luOiBEYW5nZXJ6b25lV3JpdGluZ1BsdWdpbikge1xuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICAgICAgdGhpcy5lZGl0b3IgPSAoYWN0aXZlTGVhZi52aWV3IGFzIE1hcmtkb3duVmlldykuZWRpdG9yO1xuICAgICAgICB0aGlzLnNlY29uZHNVbnRpbERlbGV0aW9uID0gc2Vjb25kc1VudGlsRGVsZXRpb247XG4gICAgICAgIHRoaXMuc2Vjb25kc1JlbWFpbmluZyA9IHNlY29uZHNVbnRpbERlbGV0aW9uO1xuICAgICAgICB0aGlzLmFjdGl2ZUxlYWYgPSBhY3RpdmVMZWFmO1xuICAgICAgICB0aGlzLmNvdW50ZXIgPSBjb3VudGVyO1xuICAgICAgICB0aGlzLm9yaWdpbmFsQ291bnRkb3duU2Vjb25kcyA9IGNvdW50ZXI7XG5cbiAgICAgICAgY29uc3Qgd3JhcHBlciA9IGFjdGl2ZUxlYWYudmlldy5jb250YWluZXJFbDtcbiAgICAgICAgY29uc3Qga2V5RG93bkNiID0gIHRoaXMuaGFuZGxlS2V5RG93bi5iaW5kKHRoaXMpO1xuICAgICAgICB3cmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGtleURvd25DYik7XG5cbiAgICAgICAgd3JhcHBlci5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImFjdGl2ZS1kYW5nZXJ6b25lLWVkaXRvclwiKTtcblxuICAgICAgICB0aGlzLmludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG5cbiAgICAgICAgICAgIHRoaXMuY291bnRlciA9IHRoaXMuY291bnRlciAtIDE7XG4gICAgICAgICAgICB0aGlzLnNlY29uZHNSZW1haW5pbmcgPSB0aGlzLnNlY29uZHNSZW1haW5pbmcgLSAxO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5zZWNvbmRzUmVtYWluaW5nIDwgdGhpcy5zZWNvbmRzVW50aWxEZWxldGlvbiAmJiB0aGlzLmVkaXRvci5nZXRWYWx1ZSgpLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgICAgICAgIGlmKHRoaXMuc2Vjb25kc1JlbWFpbmluZyA8PSA1KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wYWNpdHkgPSB0aGlzLmdldE9wYWNpdHlGb3JTZWNvbmRzUmVtYWluaW5nKHRoaXMuc2Vjb25kc1JlbWFpbmluZywgdGhpcy5zZWNvbmRzVW50aWxEZWxldGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHdyYXBwZXIuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgXCJvcGFjaXR5OlwiICsgb3BhY2l0eSArIFwiJVwiKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzdGF0dXNCYXIuc2V0VGV4dChgJHt0aGlzLnNlY29uZHNSZW1haW5pbmd9YCk7XG4gICAgICAgICAgICAgICAgc3RhdHVzQmFyLnNldEF0dHIoJ3N0eWxlJywgJ2NvbG9yOiByZWQ7Jyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdyYXBwZXIuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgXCJvcGFjaXR5OiAxMDAlXCIpO1xuXG4gICAgICAgICAgICAgICAgc3RhdHVzQmFyLnNldFRleHQoYCR7dGhpcy5jb3VudGVyfSBzZWNvbmRzIGxlZnRgKTtcbiAgICAgICAgICAgICAgICBzdGF0dXNCYXIuc2V0QXR0cignc3R5bGUnLCAnY29sb3I6ICM5OTk7Jyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnNlY29uZHNSZW1haW5pbmcgPD0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWRpdG9yLnNldFZhbHVlKCcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlY29uZHNSZW1haW5pbmcgPSB0aGlzLnNlY29uZHNVbnRpbERlbGV0aW9uICsgMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuY291bnRlciA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHN0YXR1c0Jhci5zZXRUZXh0KFwiXCIpO1xuICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoXCJEYW5nZXJ6b25lIHNlc3Npb24gZmluaXNoZWQhXCIpO1xuXG4gICAgICAgICAgICAgICAgd3JhcHBlci5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBcIm9wYWNpdHk6IDEwMCVcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4ucmVtb3ZlU3R5bGUoKTtcblxuICAgICAgICAgICAgICAgIC8vIFNhdmUgcHJvZ3Jlc3MgaWYgdGhlcmUncyBzb21ldGhpbmcgd3JpdHRlblxuICAgICAgICAgICAgICAgIGlmKHRoaXMuZWRpdG9yLmdldFZhbHVlKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudFNldHRpbmdzID0gdGhpcy5wbHVnaW4uc2V0dGluZ3M7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTZXR0aW5ncy5zdWNjZXNmdWxsU2Vzc2lvbkNvdW50ID0gKGN1cnJlbnRTZXR0aW5ncy5nZXRTdWNjZXNmdWxsU2Vzc2lvbkNvdW50SW50ZWdlcigpICsgMSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2F2ZURhdGEoY3VycmVudFNldHRpbmdzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7XG4gICAgICAgICAgICAgICAgd3JhcHBlci5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBrZXlEb3duQ2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAxMDAwKVxuICAgIH1cblxuICAgIGhhbmRsZUtleURvd24gPSAoKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5pc0ZpbmlzaGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXRTZWNvbmRVbnRpbERlbGV0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG5cbiAgICBnZXRPcGFjaXR5Rm9yU2Vjb25kc1JlbWFpbmluZyhzZWNvbmRzUmVtYWluaW5nOiBudW1iZXIsIHNlY29uZHNVbnRpbERlbGV0aW9uOiBudW1iZXIpIHtcbiAgICAgICAgLy8gMyAvIDVcbiAgICAgICAgcmV0dXJuIHNlY29uZHNSZW1haW5pbmcgLyBzZWNvbmRzVW50aWxEZWxldGlvbiAqIDEwMDtcbiAgICB9XG5cbiAgICByZXNldENvdW50ZG93bigpIHtcbiAgICAgICAgdGhpcy5jb3VudGVyID0gdGhpcy5vcmlnaW5hbENvdW50ZG93blNlY29uZHM7XG4gICAgfVxuXG4gICAgcmVzZXRTZWNvbmRVbnRpbERlbGV0aW9uKCkge1xuICAgICAgICAvLyBpbXBvcnRhbnQ6IGFkZCArMSB0byB0aGlzLnNlY29uZHNVbnRpbERlbGV0aW9uIHRvIGFjY291bnQgZm9yIGF0IGxlYXN0IG9uZSBrZXktc3Ryb2tlXG4gICAgICAgIHRoaXMuc2Vjb25kc1JlbWFpbmluZyA9IHRoaXMuc2Vjb25kc1VudGlsRGVsZXRpb24gKyAxO1xuICAgIH1cblxuICAgIGlzRmluaXNoZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvdW50ZXIgPD0gMDtcbiAgICB9XG59IiwiaW1wb3J0IHthZGRJY29uLCBOb3RpY2UsIFBsdWdpbiwgTWFya2Rvd25WaWV3fSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCBEYW5nZXJ6b25lV3JpdGluZ1BsdWdpblNldHRpbmdzIGZyb20gXCIuL0RhbmdlcnpvbmVXcml0aW5nUGx1Z2luU2V0dGluZ3NcIjtcclxuaW1wb3J0IERhbmdlcnpvbmVXcml0aW5nUGx1Z2luU2V0dGluZ3NUYWIgZnJvbSBcIi4vRGFuZ2Vyem9uZVdyaXRpbmdQbHVnaW5TZXR0aW5nc1RhYlwiO1xyXG5pbXBvcnQgQ291bnRkb3duVGltZXIgZnJvbSBcIi4vQ291bnRkb3duVGltZXJcIjtcclxuXHJcbmNvbnN0IHN2Z1BhdGggPSAnPHBhdGggZD1cIk00OS41MTIyIDkwQzI5LjM5MjYgODkuNzM1NSAxMy4xNDY4IDczLjUzMzcgMTIuODgxNiA1My40Njg1QzEzLjE0NjggMzMuNDAzMiAyOS4zOTI2IDE3LjIwMTQgNDkuNTEyMiAxNi45MzY5QzY5LjYzMTkgMTcuMjAxNCA4NS44Nzc2IDMzLjQwMzIgODYuMTQyOCA1My40Njg1Qzg1Ljg3NzYgNzMuNTMzNyA2OS42MzE5IDg5LjczNTUgNDkuNTEyMiA5MFpNNDkuNTEyMiAyNS4wNTUxQzMzLjg2MzUgMjUuMjYwNSAyMS4yMjc4IDM3Ljg2MjEgMjEuMDIxNyA1My40Njg1QzIxLjIyNzggNjkuMDc0OSAzMy44NjM1IDgxLjY3NjQgNDkuNTEyMiA4MS44ODE5QzY1LjE2MDkgODEuNjc2NCA3Ny43OTY3IDY5LjA3NDkgNzguMDAyNyA1My40Njg1Qzc3Ljc5NjcgMzcuODYyMSA2NS4xNjA5IDI1LjI2MDUgNDkuNTEyMiAyNS4wNTUxWk01My41ODIzIDczLjc2MzhINDUuNDQyMVY1Ny41Mjc1SDI5LjE2MTlWNDkuNDA5NEg0NS40NDIxVjMzLjE3MzJINTMuNTgyM1Y0OS40MDk0SDY5Ljg2MjVWNTcuNTI3NUg1My41ODIzVjczLjc2MzhaTTgzLjI2MTIgMjcuOTI4OUw3MS4wMTQ0IDE1Ljc1MTdMNzYuNzQ5MSAxMEw4OSAyMi4xNzcyTDgzLjI2MTIgMjcuOTI0OFYyNy45Mjg5Wk0xNS43NjczIDI3LjkyODlMMTAgMjIuMTc3MkwyMi4xNzM2IDEwTDI3LjkzMjcgMTUuNzQ3NkwxNS43NjczIDI3LjkyNDhWMjcuOTI4OVpcIiBmaWxsPVwiIzY0NjQ2NFwiLz4nO1xyXG5hZGRJY29uKCd3YXRjaCcsIHN2Z1BhdGgpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGFuZ2Vyem9uZVdyaXRpbmdQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xyXG4gICAgcHVibGljIHNldHRpbmdzOiBEYW5nZXJ6b25lV3JpdGluZ1BsdWdpblNldHRpbmdzO1xyXG4gICAgc3RhdHVzQmFyOiBIVE1MRWxlbWVudDtcclxuICAgIGNvdW50ZG93bjogQ291bnRkb3duVGltZXI7XHJcblxyXG4gICAgb25sb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZFNldHRpbmdzKCk7XHJcbiAgICAgICAgdGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBEYW5nZXJ6b25lV3JpdGluZ1BsdWdpblNldHRpbmdzVGFiKHRoaXMuYXBwLCB0aGlzKSk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdHVzQmFyID0gdGhpcy5hZGRTdGF0dXNCYXJJdGVtKClcclxuXHJcbiAgICAgICAgdGhpcy5hZGRSaWJib25JY29uKCd3YXRjaCcsICdEYW5nZXJ6b25lIFdyaXRpbmcnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnRPckNvbnRpbnVlVGltZXIoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRDb21tYW5kKHtcclxuICAgICAgICAgICAgaWQ6IFwiZGFuZ2Vyem9uZS1zZXNzaW9uLXN0YXJ0XCIsXHJcbiAgICAgICAgICAgIG5hbWU6IFwiU2hvcnRjdXQgZm9yIHN0YXJ0aW5nIGEgRGFuZ2Vyem9uZSBXcml0aW5nIHNlc3Npb25cIixcclxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHRoaXMuc3RhcnRPckNvbnRpbnVlVGltZXIoKSxcclxuICAgICAgICAgICAgaG90a2V5czogW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGlmaWVyczogW1wiQWx0XCIsIFwiU2hpZnRcIl0sXHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiBcIuKBhFwiLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydE9yQ29udGludWVUaW1lcigpIHtcclxuICAgICAgICB0aGlzLnNldEN1c3RvbVN0eWxlKCk7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuY291bnRkb3duICYmICF0aGlzLmNvdW50ZG93bi5pc0ZpbmlzaGVkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5jb3VudGRvd24ucmVzZXRDb3VudGRvd24oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0VGltZXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb251bmxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVTdHlsZSgpO1xyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jb3VudGRvd24uaW50ZXJ2YWxJZCk7XHJcbiAgICB9XHJcblxyXG4gICAgbG9hZFNldHRpbmdzKCkge1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBuZXcgRGFuZ2Vyem9uZVdyaXRpbmdQbHVnaW5TZXR0aW5ncygpO1xyXG4gICAgICAgIChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxvYWRlZFNldHRpbmdzID0gYXdhaXQgdGhpcy5sb2FkRGF0YSgpO1xyXG4gICAgICAgICAgICBpZiAobG9hZGVkU2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRm91bmQgZXhpc3Rpbmcgc2V0dGluZ3MgZmlsZSBmb3IgRGFuZ2Vyem9uZSBXcml0aW5nXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5jb3VudGRvd25TZWNvbmRzID0gbG9hZGVkU2V0dGluZ3MuY291bnRkb3duU2Vjb25kcztcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3Muc2Vjb25kc1VudGlsRGVsZXRpb24gPSBsb2FkZWRTZXR0aW5ncy5zZWNvbmRzVW50aWxEZWxldGlvbjtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3Muc3VjY2VzZnVsbFNlc3Npb25Db3VudCA9IGxvYWRlZFNldHRpbmdzLnN1Y2Nlc2Z1bGxTZXNzaW9uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLmN1c3RvbUVkaXRvckZvbnRTaXplID0gbG9hZGVkU2V0dGluZ3MuY3VzdG9tRWRpdG9yRm9udFNpemU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLmN1c3RvbUVkaXRvckJhY2tncm91bmRDb2xvciA9IGxvYWRlZFNldHRpbmdzLmN1c3RvbUVkaXRvckJhY2tncm91bmRDb2xvcjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm8gc2V0dGluZ3MgZmlsZSBmb3VuZCwgY3JlYXRpbmcgZm9yIERhbmdlcnpvbmUgV3JpdGluZ1wiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0VGltZXIoKSB7XHJcbiAgICAgICAgbGV0IGFjdGl2ZUxlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZigpO1xyXG5cclxuICAgICAgICBjb25zdCBtZFZpZXcgPSBhY3RpdmVMZWFmLnZpZXcgYXMgTWFya2Rvd25WaWV3O1xyXG5cclxuICAgICAgICBpZiAobWRWaWV3ICYmIG1kVmlldy5nZXRWaWV3VHlwZSgpID09PSBcIm1hcmtkb3duXCIgJiYgbWRWaWV3LmdldE1vZGUgJiYgbWRWaWV3LmdldE1vZGUoKSA9PT0gXCJzb3VyY2VcIikge1xyXG4gICAgICAgICAgICBpZiAobWRWaWV3LmVkaXRvcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudGRvd24gPSBuZXcgQ291bnRkb3duVGltZXIodGhpcy5zZXR0aW5ncy5nZXRDb3VudGRvd25TZWNvbmRzSW50ZWdlcigpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzQmFyLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUxlYWYsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5nZXRTZWNvbmRzVW50aWxEZWxldGlvbkludGVnZXIoKSxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzKTtcclxuICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoXCJEYW5nZXJ6b25lIFdyaXRpbmcgc2Vzc2lvbiBzdGFydGVkIVwiKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoXCJObyBlZGl0b3IgYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbmV3IE5vdGljZShcIk5vIGZpbGUgb3Blbi5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldEN1c3RvbVN0eWxlKCkge1xyXG4gICAgICAgIGNvbnN0IGNzcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XHJcbiAgICAgICAgY3NzLmlkID0gJ2RhbmdlcnpvbmUtd3JpdGluZy1zdHlsZSc7XHJcblxyXG4gICAgICAgIGNvbnN0IGN1c3RvbUVkaXRvckZvbnRTaXplQ3NzU3RyaW5nID0gdGhpcy5zZXR0aW5ncy5nZXRDdXN0b21FZGl0b3JGb250U2l6ZUNzc1N0cmluZygpO1xyXG4gICAgICAgIGNvbnN0IGN1c3RvbUVkaXRvckJhY2tncm91bmRDb2xvciA9IHRoaXMuc2V0dGluZ3MuZ2V0Q3VzdG9tRWRpdG9yQmFja2dyb3VuZENvbG9yQ3NzU3RyaW5nKCk7XHJcblxyXG4gICAgICAgIGNzcy5pbm5lclRleHQgPSBgXHJcbiAgICAgICAgICAgICNhY3RpdmUtZGFuZ2Vyem9uZS1lZGl0b3IgeyBcclxuICAgICAgICAgICAgICAgICR7Y3VzdG9tRWRpdG9yRm9udFNpemVDc3NTdHJpbmd9O1xyXG4gICAgICAgICAgICAgICAgJHtjdXN0b21FZGl0b3JCYWNrZ3JvdW5kQ29sb3J9OyAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfWA7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXS5hcHBlbmRDaGlsZChjc3MpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlU3R5bGUoKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVTdHlsZSgpIHtcclxuICAgICAgICB0aGlzLmFwcC53b3Jrc3BhY2UudHJpZ2dlcignY3NzLWNoYW5nZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZVN0eWxlKCkge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYW5nZXJ6b25lLXdyaXRpbmctc3R5bGUnKS5yZW1vdmUoKTtcclxuICAgICAgICB0aGlzLmFwcC53b3Jrc3BhY2UudHJpZ2dlcignY3NzLWNoYW5nZScpO1xyXG4gICAgfVxyXG59Il0sIm5hbWVzIjpbIlNldHRpbmciLCJQbHVnaW5TZXR0aW5nVGFiIiwiTm90aWNlIiwiYWRkSWNvbiIsIkRhbmdlcnpvbmVXcml0aW5nUGx1Z2luU2V0dGluZ3NUYWIiLCJQbHVnaW4iXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksYUFBYSxHQUFHLFNBQVMsQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUNuQyxJQUFJLGFBQWEsR0FBRyxNQUFNLENBQUMsY0FBYztBQUN6QyxTQUFTLEVBQUUsU0FBUyxFQUFFLEVBQUUsRUFBRSxZQUFZLEtBQUssSUFBSSxVQUFVLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUM7QUFDcEYsUUFBUSxVQUFVLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7QUFDMUcsSUFBSSxPQUFPLGFBQWEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDL0IsQ0FBQyxDQUFDO0FBQ0Y7QUFDTyxTQUFTLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFO0FBQ2hDLElBQUksSUFBSSxPQUFPLENBQUMsS0FBSyxVQUFVLElBQUksQ0FBQyxLQUFLLElBQUk7QUFDN0MsUUFBUSxNQUFNLElBQUksU0FBUyxDQUFDLHNCQUFzQixHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRywrQkFBK0IsQ0FBQyxDQUFDO0FBQ2xHLElBQUksYUFBYSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUN4QixJQUFJLFNBQVMsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUMsRUFBRTtBQUMzQyxJQUFJLENBQUMsQ0FBQyxTQUFTLEdBQUcsQ0FBQyxLQUFLLElBQUksR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDekYsQ0FBQztBQXVDRDtBQUNPLFNBQVMsU0FBUyxDQUFDLE9BQU8sRUFBRSxVQUFVLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRTtBQUM3RCxJQUFJLFNBQVMsS0FBSyxDQUFDLEtBQUssRUFBRSxFQUFFLE9BQU8sS0FBSyxZQUFZLENBQUMsR0FBRyxLQUFLLEdBQUcsSUFBSSxDQUFDLENBQUMsVUFBVSxPQUFPLEVBQUUsRUFBRSxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRTtBQUNoSCxJQUFJLE9BQU8sS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLE9BQU8sQ0FBQyxFQUFFLFVBQVUsT0FBTyxFQUFFLE1BQU0sRUFBRTtBQUMvRCxRQUFRLFNBQVMsU0FBUyxDQUFDLEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUU7QUFDbkcsUUFBUSxTQUFTLFFBQVEsQ0FBQyxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUU7QUFDdEcsUUFBUSxTQUFTLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRSxNQUFNLENBQUMsSUFBSSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxDQUFDLEVBQUU7QUFDdEgsUUFBUSxJQUFJLENBQUMsQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsVUFBVSxJQUFJLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7QUFDOUUsS0FBSyxDQUFDLENBQUM7QUFDUCxDQUFDO0FBQ0Q7QUFDTyxTQUFTLFdBQVcsQ0FBQyxPQUFPLEVBQUUsSUFBSSxFQUFFO0FBQzNDLElBQUksSUFBSSxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUNySCxJQUFJLE9BQU8sQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxPQUFPLE1BQU0sS0FBSyxVQUFVLEtBQUssQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBRyxXQUFXLEVBQUUsT0FBTyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQzdKLElBQUksU0FBUyxJQUFJLENBQUMsQ0FBQyxFQUFFLEVBQUUsT0FBTyxVQUFVLENBQUMsRUFBRSxFQUFFLE9BQU8sSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFDdEUsSUFBSSxTQUFTLElBQUksQ0FBQyxFQUFFLEVBQUU7QUFDdEIsUUFBUSxJQUFJLENBQUMsRUFBRSxNQUFNLElBQUksU0FBUyxDQUFDLGlDQUFpQyxDQUFDLENBQUM7QUFDdEUsUUFBUSxPQUFPLENBQUMsRUFBRSxJQUFJO0FBQ3RCLFlBQVksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxH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
